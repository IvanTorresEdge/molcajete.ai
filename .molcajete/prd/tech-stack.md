# Molcajete.ai Technology Stack

## Stack Philosophy

Molcajete.ai's technical choices prioritize **simplicity, reliability, and integration** with the Claude Code plugin ecosystem. We leverage existing platforms rather than building custom infrastructure, and we make technology decisions that support long-term maintainability.

**Guiding Principles:**
- Integrate deeply with Claude Code plugin system
- Minimize dependencies and external services
- Prefer proven technologies over cutting-edge
- Keep installation and updates simple
- Document everything thoroughly

---

## Core Architecture

### Plugin System

**Platform:** Claude Code Plugin Architecture

**Structure:**
- **Commands** - User-facing entry points (`/prd`, `/res`, `/go-web-api`, etc.)
- **Agents** - Specialized AI personas with specific expertise and workflows
- **Skills** - Reusable knowledge modules that multiple agents can reference
- **Output Directory** - `.molcajete/` for all plugin-generated artifacts

**Plugin Definition:**
```json
{
  "namespace": "plugin-name",
  "commands": [...],
  "agents": [...],
  "skills": [...]
}
```

**Integration Requirements:**
- Must follow Claude Code plugin conventions
- Must be installable via `/plugin marketplace add` command
- Must support version pinning and updates
- Must include comprehensive documentation

---

## Storage & Files

### Local Filesystem

**Approach:** All data stored locally on user's machine

**Structure:**
- Plugin definitions in project `.claude/plugins/` directory
- Generated artifacts in `.molcajete/<plugin>/` directories
- User configuration in `.claude/config.json`

**Benefits:**
- No external dependencies
- Privacy by default - no data leaves the machine
- Works offline
- Fast and reliable

**Standards:**
- Use `.molcajete/` prefix for all plugin outputs
- Organize by plugin namespace (e.g., `.molcajete/prd/`, `.molcajete/go/`)
- Generate markdown for human-readable documents
- Generate code with appropriate file extensions

---

## Version Control

### Git Integration

**Approach:** Deep integration with Git workflows; leverage existing Git infrastructure

**Current Support:**
- **git plugin** - Conventional commits, semantic versioning, commit message generation
- Plugin definitions stored in Git for version tracking
- Users can fork/clone plugin repositories

**Future Considerations:**
- Git-based plugin distribution and updates
- Version compatibility checking
- Changelog generation from commit history

**Standards:**
- Follow conventional commits format
- Semantic versioning for plugin releases
- Clear commit messages generated by git plugin
- Tag releases with version numbers

---

## Distribution & Discovery

### Marketplace Infrastructure

**Current Approach:** Minimal infrastructure; leverage GitHub and Claude Code plugin system

**Installation Methods:**
1. **Direct installation:** `/plugin marketplace add https://github.com/user/plugin`
2. **Configuration file:** Add to `.claude/config.json` manually
3. **Repository cloning:** Clone plugin repository into `.claude/plugins/`

**Plugin Hosting:** GitHub repositories (no custom hosting infrastructure)

**Discovery:**
- README documentation
- GitHub topics/tags
- Word of mouth and community sharing
- Future: Centralized marketplace catalog (if needed)

**Benefits:**
- Zero infrastructure to maintain
- Leverage GitHub's reliability and CDN
- Users understand Git-based workflows
- Easy to fork and customize plugins

---

## Documentation

### Standards

**Format:** Markdown for all documentation

**Required Documentation:**
- **README.md** - Plugin overview, installation, usage
- **EXAMPLES.md** - Real-world usage examples and workflows
- **Agent definitions** - Inline documentation in agent files
- **Skill documentation** - Clear descriptions of reusable knowledge

**Generated Documentation:**
- PRD plugin generates `.molcajete/prd/` documentation
- Research plugin generates `.molcajete/research/` reports
- Code plugins generate inline comments and README files

**Maintenance:**
- Keep documentation in sync with code
- Use examples from real usage
- Update with learnings from daily use

---

## Security & Privacy

### Privacy-First Design

**Principles:**
- All data stays local on user's machine
- No telemetry or analytics sent to external servers
- No API keys or credentials required (beyond Claude Code itself)
- Users control all generated artifacts

**Future Analytics (if implemented):**
- Local-only metrics
- Opt-in only
- Anonymized and aggregated
- Full transparency on what's collected

---

## Development Tools

### Plugin Development

**Tools:**
- Text editor (VS Code, Vim, etc.) for plugin definitions
- Claude Code CLI for testing plugins
- Git for version control
- GitHub for distribution

**Testing:**
- Manual testing with real workflows
- Dogfooding - use plugins in daily development
- Iterative refinement based on usage

**Standards:**
- Follow software-principles skill guidelines
- Keep plugins simple and focused
- Document all decisions and patterns
- Test edge cases and error handling

---

## Integration Requirements

### Must Integrate With

1. **Claude Code Plugin System**
   - Follow all plugin conventions and APIs
   - Support standard command/agent/skill structure
   - Work with Claude Code's file operations and context management

2. **Git and Version Control**
   - Deep integration with Git workflows
   - Support conventional commits and semantic versioning
   - Generate Git-friendly output

3. **Local Development Environment**
   - Work with user's existing terminal and shell
   - Respect existing project structure
   - Generate artifacts that work with user's tools

### Explicitly NOT Integrating With (Near Term)

- Other AI models (ChatGPT, Copilot, etc.) - Claude Code only
- Package managers and build tools - plugins guide usage but don't wrap them
- IDEs or visual interfaces - CLI-focused, no GUI
- External services or APIs - local-only approach
- Custom hosting infrastructure - leverage GitHub

---

## Scalability Considerations

### Current Scale

- Single user (creator)
- Small number of plugins (6 currently)
- Local-only operation
- No external dependencies

### Future Scale (If Needed)

**Plugin Marketplace Growth:**
- Git-based distribution scales well (GitHub's CDN)
- Catalog/search could be static site (no backend needed)
- Plugin discovery through GitHub topics and tags

**Performance:**
- Plugins run locally; scale is Claude Code's responsibility
- No network calls = fast and reliable
- File operations are I/O bound (adequate for current needs)

**Community Contributions:**
- GitHub PRs for plugin improvements
- Forking for customization
- Community plugins in separate repositories

---

## Technology Decisions

### Decided

✓ **Claude Code as platform** - Deep integration; no plans to support other AI tools
✓ **Local-first architecture** - All data stays on user's machine
✓ **Git-based distribution** - Leverage GitHub; no custom hosting
✓ **Markdown documentation** - Human-readable, version-controllable
✓ **Namespace isolation** - `.molcajete/` prefix prevents conflicts
✓ **Privacy by default** - No telemetry or external calls

### Deferred

⏸ **Centralized marketplace catalog** - Use GitHub search for now
⏸ **Plugin versioning system** - Git tags sufficient for now
⏸ **Automated testing framework** - Manual testing adequate currently
⏸ **Analytics/telemetry** - Not needed; may add local-only metrics later

### Rejected

✗ **Support for non-Claude AI models** - Stay focused on Claude Code
✗ **Custom hosting infrastructure** - GitHub is sufficient
✗ **Visual IDE or UI** - CLI-focused; no plans for GUI
✗ **External APIs or services** - Local-only approach

---

## Maintenance & Evolution

### Version Control

- Semantic versioning for plugin releases
- Changelog maintained in each plugin repository
- Breaking changes clearly documented

### Compatibility

- Plugins tested against latest Claude Code version
- Version compatibility documented in README
- Users can pin specific plugin versions

### Updates

- Users pull latest changes from Git
- Claude Code handles plugin reloading
- Breaking changes require major version bump

### Deprecation

- Deprecation warnings in documentation
- Migration guides for breaking changes
- Maintain old versions in Git history
